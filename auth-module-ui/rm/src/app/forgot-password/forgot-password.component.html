<div class=" container mt-5 " style="max-width:500px">

    <div class="display-4 mb-4 d-flex justify-content-center">Reset password</div>
    <form *ngIf="!isReset" name="form" (ngSubmit)="f1.form.valid && checkEmail()" #f1="ngForm">
      <div class="form-group">
        <input type="text" class="form-control" name="email" placeholder="Enter your email" [(ngModel)]="email"
         required
          [ngClass]="{'is-valid':email.valid && email.touched,'is-invalid':email.invalid && email.touched}" />
        <div *ngIf="email.touched && email.invalid">
          <small class="form-text alert alert-danger" *ngIf="email.errors.required">Email is required</small>
        </div>
        
      </div>     
      <div class="form-group">
        <div class="row">
          <div class="col">
            <button class="btn btn-primary" [disabled]="f1.form.invalid || load || isSend"> Send reset-link to email
                <span *ngIf=load class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                <span class="sr-only">Loading...</span>
               </button>
          </div>          
          <div class="col d-flex justify-content-end">
            <a class="nav-link" routerLink="/login" >I remember password!</a>
          </div>
        </div>
      </div>
    </form> 

    <form *ngIf="isReset" name="form" (ngSubmit)="f2.form.valid && matchPasswords(password, confirmPassword)" #f2="ngForm">
      <div class="form-group ">
        <input type="password" class="form-control" name="password" placeholder="New password" [(ngModel)]="password"
           required
          [ngClass]="{'is-valid':password.valid && password.touched,'is-invalid':password.invalid && password.touched}" />
        <div *ngIf="password.touched && password.invalid">
          <small class="form-text alert alert-danger" *ngIf="password.errors.required">Password is required</small>
        </div>
      </div>
      <div class="form-group ">
        <input type="password" class="form-control" name="confirmPassword" placeholder="Confirm new password" [(ngModel)]="confirmPassword"
           required
          [ngClass]="{'is-valid':confirmPassword.valid && confirmPassword.touched,'is-invalid':confirmPassword.invalid && confirmPassword.touched}" />
        <div *ngIf="confirmPassword.touched && confirmPassword.invalid">
          <small class="form-text alert alert-danger" *ngIf="confirmPassword.errors.required">Password is required</small>
        </div>
      </div>
      <div class="form-group">
        <div class="row">
          <div class="col">
            <button class="btn btn-primary" [disabled]="f2.form.invalid">Reset password</button>
          </div>
          <div class="col d-flex justify-content-end">
            <a class="nav-link" routerLink="/login">I remember password!</a>
          </div>
        </div>
      </div>
    </form> 
 
</div> 